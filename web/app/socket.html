<!doctype html>
<html>
<head><script src="//code.jquery.com/jquery-1.11.2.min.js"></script></head>
<body>
<h2>Socket Test Page</h2>
<div id="content"></div>
<p>Socket data from the tournament app should start appearing above as it is sent..</p>
<script src="/socket.io/socket.io.js"></script>
<script>
io = io.connect();

io.on('news', function(data) {
    console.log(data);
    $('#content').prepend(
            '<p>' + new Date() + ': <strong>' +
            data.title + '</strong> - ' + data.body + '<hr>'
    );
});

io.on('result', function(data) {
    console.log(data);
    var result = data.result;
    var scoreline = result.homeTeam + ' ' + result.homeGoals;
    scoreline += (result.homePens ? '(' + result.homePens + ')-(' + result.awayPens + ')' : '-');
    scoreline += result.awayGoals + ' ' + result.awayTeam;
    $('#content').prepend(
            '<p>' + new Date() + ': <strong>Result</strong>: ' +
            data.compName + '/' + data.compSection + ' ' +
            scoreline + '</strong></p><hr>'
    );
});
</script>
</body></html>
